<?xml version="1.0" encoding="utf-8"?>
<Page x:Class="Wavee.UI.WinUI.Views.Library.LibraryRootView"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:local="using:Wavee.UI.WinUI.Views.Library"
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
      xmlns:toolkitLabs="using:CommunityToolkit.Labs.WinUI"
      xmlns:templateSelectors="using:Wavee.UI.WinUI.TemplateSelectors"
      xmlns:libray="using:Wavee.UI.ViewModels.Libray"
      mc:Ignorable="d">
    <Page.Resources>
        <DataTemplate x:Key="SongsView"
                      x:DataType="libray:LibrarySongsViewModel">
            <local:LibrarySongsView ViewModel="{x:Bind }" />
        </DataTemplate>
        <DataTemplate x:Key="AlbumsView"
                      x:DataType="libray:LibraryAlbumsViewModel">
            <local:LibraryAlbumsView ViewModel="{x:Bind }" />
        </DataTemplate>
        <templateSelectors:LibaryViewSelector Songs="{StaticResource SongsView}"
                                              Albums="{StaticResource AlbumsView}"
                                              x:Key="LibaryViewSelector" />
    </Page.Resources>
    <Page.Transitions>
        <TransitionCollection>
            <EntranceThemeTransition />
        </TransitionCollection>
    </Page.Transitions>

    <Grid Margin="24,24,0,0">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition />
        </Grid.RowDefinitions>

        <!-- Title -->
        <Border>
            <TextBlock FontSize="28"
                       FontWeight="Bold"
                       Text="Your library"
                       VerticalAlignment="Center" />
        </Border>

        <!-- Header buttons -->
        <StackPanel Margin="0,12"
                    Spacing="12"
                    Orientation="Horizontal"
                    Grid.Row="1">
            <!-- Shuffle-->
            <Button Style="{ThemeResource AccentButtonStyle}">
                <StackPanel Spacing="8"
                            Orientation="Horizontal">
                    <FontIcon FontFamily="Segoe Fluent Icons"
                              Glyph="&#xE14B;" />
                    <TextBlock Text="Shuffle" />
                </StackPanel>
            </Button>

            <!-- Seperator-->
            <Rectangle Fill="Black"
                       Width=".5"
                       Opacity=".2" />

            <!-- Play -->
            <Button>
                <StackPanel Spacing="8"
                            Orientation="Horizontal">
                    <FontIcon FontFamily="Segoe Fluent Icons"
                              Glyph="&#xE102;" />
                    <TextBlock Text="Play" />
                </StackPanel>
            </Button>


            <!-- Add To-->
            <Button>
                <StackPanel Spacing="8"
                            Orientation="Horizontal">
                    <FontIcon FontFamily="Segoe Fluent Icons"
                              Glyph="&#xE109;" />
                    <TextBlock Text="Add to" />
                </StackPanel>
            </Button>

            <!-- Seperator-->
            <Rectangle Fill="Black"
                       Width=".5"
                       Opacity=".2" />

            <!-- Switch between views-->
            <toolkitLabs:Segmented SelectionMode="Single"
                                   SelectedIndex="{x:Bind ViewModel.SelectedViewIndex, Mode=TwoWay}"
                                   Width="287">
                <toolkitLabs:SegmentedItem Content="Albums">
                    <toolkitLabs:SegmentedItem.Icon>
                        <FontIcon FontFamily="Segoe Fluent Icons"
                                  Glyph="&#xF0E2;" />
                    </toolkitLabs:SegmentedItem.Icon>
                </toolkitLabs:SegmentedItem>
                <toolkitLabs:SegmentedItem Content="Tracks">
                    <toolkitLabs:SegmentedItem.Icon>
                        <FontIcon FontFamily="Segoe Fluent Icons"
                                  Glyph="&#xE8FD;" />
                    </toolkitLabs:SegmentedItem.Icon>
                </toolkitLabs:SegmentedItem>
                <toolkitLabs:SegmentedItem Content="Artists">
                    <toolkitLabs:SegmentedItem.Icon>
                        <FontIcon FontFamily="Segoe Fluent Icons"
                                  Glyph="&#xEBDA;" />
                    </toolkitLabs:SegmentedItem.Icon>
                </toolkitLabs:SegmentedItem>
            </toolkitLabs:Segmented>
        </StackPanel>

        <ContentControl Grid.Row="2"
                        ContentTemplateSelector="{StaticResource LibaryViewSelector}"
                        Content="{x:Bind ViewModel.CurrentView, Mode=OneWay}"
                        VerticalContentAlignment="Stretch"
                        HorizontalContentAlignment="Stretch" />
    </Grid>
</Page>
